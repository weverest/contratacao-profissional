var toolApp=angular.module("toolApp",[]);toolApp.directive("money",function(){return{restrict:"A",link:function(a,b,c){b.maskMoney(a.$eval(c.money))}}}),toolApp.controller("toolCtrl",["$scope",function(a){var b={inss:.28,fgts:.08,salary13:.1133,vocations:.1507,resignation:.4},c={inss:0,fgts:.08,salary13:.09,vocations:.1197,resignation:.4},d={inss:.2,fgts:0,salary13:0,vocations:0,resignation:0};a.monthlyPayment="R$0,00",a.calc=function(){""==a.monthlyPayment?a.monthlyPayment="R$0,00":(a.contractor(),a.hired())},a.contractor=function(){var e=angular.element("#monthly-payment").maskMoney("unmasked")[0];a.contractorINSSC1=e*b.inss,a.contractorFGTSC1=e*b.fgts,a.contractorSalary13C1=e*b.salary13,a.contractorVocationsC1=e*b.vocations,a.contractorResignationC1=a.contractorFGTSC1*b.resignation,a.contractorTotalC1=e+a.contractorINSSC1+a.contractorFGTSC1+a.contractorSalary13C1+a.contractorVocationsC1+a.contractorResignationC1,a.contractorINSSC2=e*c.inss,a.contractorFGTSC2=e*c.fgts,a.contractorSalary13C2=e*c.salary13,a.contractorVocationsC2=e*c.vocations,a.contractorResignationC2=a.contractorFGTSC2*c.resignation,a.contractorTotalC2=e+a.contractorINSSC2+a.contractorFGTSC2+a.contractorSalary13C2+a.contractorVocationsC2+a.contractorResignationC2,a.contractorINSSC3=e*d.inss,a.contractorFGTSC3=e*d.fgts,a.contractorSalary13C3=e*d.salary13,a.contractorVocationsC3=e*d.vocations,a.contractorResignationC3=a.contractorFGTSC3*d.resignation,a.contractorTotalC3=e+a.contractorINSSC3+a.contractorFGTSC3+a.contractorSalary13C3+a.contractorVocationsC3+a.contractorResignationC3},a.hired=function(){var b=angular.element("#monthly-payment").maskMoney("unmasked")[0];a.hiredSimplesC5=.045*b,a.hiredISSC3=.05*b,a.hiredISSC4=.05*b,b>0?a.hiredISSC5=Math.round(52/b*100):a.hiredISSC5=0,a.hiredTaxesC4=.1133*b,a.hiredINSS=0,1399.13>b?a.hiredINSS=.08*b:2331.89>b?a.hiredINSS=.09*b:4663.76>b?a.hiredINSS=.11*b:a.hiredINSS=513.0125,a.hiredINSS>0?a.hiredINSSPercentage=Math.round(a.hiredINSS/b*100):a.hiredINSSPercentage=0,a.hiredIRRF=0,b-a.hiredINSS<1903.99?a.hiredIRRF=0:b-a.hiredINSS<2826.66?a.hiredIRRF=.075*(b-a.hiredINSS)-142.8:b-a.hiredINSS<3751.06?a.hiredIRRF=.15*(b-a.hiredINSS)-354.8:b-a.hiredINSS<4664.68?a.hiredIRRF=.225*(b-a.hiredINSS)-636.13:a.hiredIRRF=.275*(b-a.hiredINSS)-869.36,a.hiredIRRF>0?a.hiredIRRFPercentage=Math.round(a.hiredIRRF/b*100):a.hiredIRRFPercentage=0,a.hiredTotalPercentageC1C2=a.hiredIRRFPercentage+a.hiredINSSPercentage,a.hiredTotalPercentageC3=a.hiredIRRFPercentage+a.hiredINSSPercentage+5,a.hiredTotalPercentageC4=a.hiredIRRFPercentage+a.hiredINSSPercentage+5,a.hiredTotalC1C2=b-a.hiredINSS-a.hiredIRRF,a.hiredTotalC3=b-a.hiredISSC3-a.hiredINSS-a.hiredIRRF,a.hiredTotalC4=b-a.hiredTaxesC4-a.hiredISSC4,a.hiredTotalC5=b-a.hiredSimplesC5,a.hiredTotalC6=b-52},a.$watch("monthlyPayment",function(){a.calc(),""==a.monthlyPayment&&(a.monthlyPayment="R$0,00")})}]);